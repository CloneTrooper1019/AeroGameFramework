



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for the AeroGameFramework">
      
      
        <link rel="canonical" href="https://sleitnick.github.io/AeroGameFramework/execution_model/">
      
      
        <meta name="author" content="Stephen Leitnick">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/logo_32.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Execution Model - AeroGameFramework</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
      <script src="../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#execution-model" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://sleitnick.github.io/AeroGameFramework/" title="AeroGameFramework" aria-label="AeroGameFramework" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../img/logo_64.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              AeroGameFramework
            </span>
            <span class="md-header-nav__topic">
              
                Execution Model
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://sleitnick.github.io/AeroGameFramework/" title="AeroGameFramework" class="md-nav__button md-logo">
      
        <img alt="logo" src="../img/logo_64.png" width="48" height="48">
      
    </a>
    AeroGameFramework
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../install/" title="Install & Setup" class="md-nav__link">
      Install & Setup
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../services/" title="Services" class="md-nav__link">
      Services
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../controllers/" title="Controllers" class="md-nav__link">
      Controllers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../modules/" title="Modules" class="md-nav__link">
      Modules
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Execution Model
      </label>
    
    <a href="./" title="Execution Model" class="md-nav__link md-nav__link--active">
      Execution Model
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#services-and-controllers" class="md-nav__link">
    Services and Controllers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modules-and-shared" class="md-nav__link">
    Modules and Shared
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forcing-init-order" class="md-nav__link">
    Forcing Init Order
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preventing-init-or-start" class="md-nav__link">
    Preventing Init or Start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#external-use" class="md-nav__link">
    External Use
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wait-for-external-aero" class="md-nav__link">
    Wait for External Aero
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-external-aero-from-server" class="md-nav__link">
    Use External Aero from Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-external-aero-from-client" class="md-nav__link">
    Use External Aero from Client
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-and-best-practices" class="md-nav__link">
    Notes and Best Practices
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Module Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Module Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-1" type="checkbox" id="nav-7-1">
    
    <label class="md-nav__link" for="nav-7-1">
      Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-1">
        Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-1-1" type="checkbox" id="nav-7-1-1">
    
    <label class="md-nav__link" for="nav-7-1-1">
      Services
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-1-1">
        Services
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/server_services/store_service/" title="StoreService" class="md-nav__link">
      StoreService
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-1-2" type="checkbox" id="nav-7-1-2">
    
    <label class="md-nav__link" for="nav-7-1-2">
      Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-1-2">
        Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/server_modules/data/" title="Data" class="md-nav__link">
      Data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2">
    
    <label class="md-nav__link" for="nav-7-2">
      Client
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        Client
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2-1" type="checkbox" id="nav-7-2-1">
    
    <label class="md-nav__link" for="nav-7-2-1">
      Controllers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-2-1">
        Controllers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/client_controllers/user_input/" title="UserInput" class="md-nav__link">
      UserInput
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2-1-2" type="checkbox" id="nav-7-2-1-2">
    
    <label class="md-nav__link" for="nav-7-2-1-2">
      UserInput (modules)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-7-2-1-2">
        UserInput (modules)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/client_controllers/user_inputs/mouse/" title="Mouse" class="md-nav__link">
      Mouse
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/client_controllers/user_inputs/keyboard/" title="Keyboard" class="md-nav__link">
      Keyboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/client_controllers/user_inputs/gamepad/" title="Gamepad" class="md-nav__link">
      Gamepad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/client_controllers/user_inputs/mobile/" title="Mobile" class="md-nav__link">
      Mobile
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/client_controllers/fade/" title="Fade" class="md-nav__link">
      Fade
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/client_controllers/task_scheduler/" title="TaskScheduler" class="md-nav__link">
      TaskScheduler
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2-2" type="checkbox" id="nav-7-2-2">
    
    <label class="md-nav__link" for="nav-7-2-2">
      Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-2-2">
        Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/client_modules/camera_shaker/" title="CameraShaker" class="md-nav__link">
      CameraShaker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/client_modules/smooth/" title="Smooth" class="md-nav__link">
      Smooth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/client_modules/tween/" title="Tween" class="md-nav__link">
      Tween
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/client_modules/pid/" title="PID" class="md-nav__link">
      PID
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3">
    
    <label class="md-nav__link" for="nav-7-3">
      Shared Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        Shared Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/shared/base64/" title="Base64" class="md-nav__link">
      Base64
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/shared/date/" title="Date" class="md-nav__link">
      Date
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/shared/event/" title="Event" class="md-nav__link">
      Event
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/shared/listener_list/" title="ListenerList" class="md-nav__link">
      ListenerList
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/shared/maid/" title="Maid" class="md-nav__link">
      Maid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/shared/number_util/" title="NumberUtil" class="md-nav__link">
      NumberUtil
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/shared/promise/" title="Promise" class="md-nav__link">
      Promise
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/shared/string_util/" title="StringUtil" class="md-nav__link">
      StringUtil
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/shared/table_util/" title="TableUtil" class="md-nav__link">
      TableUtil
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/shared/thread/" title="Thread" class="md-nav__link">
      Thread
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../module_docs/shared/vector_util/" title="VectorUtil" class="md-nav__link">
      VectorUtil
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#services-and-controllers" class="md-nav__link">
    Services and Controllers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modules-and-shared" class="md-nav__link">
    Modules and Shared
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forcing-init-order" class="md-nav__link">
    Forcing Init Order
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preventing-init-or-start" class="md-nav__link">
    Preventing Init or Start
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#external-use" class="md-nav__link">
    External Use
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wait-for-external-aero" class="md-nav__link">
    Wait for External Aero
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-external-aero-from-server" class="md-nav__link">
    Use External Aero from Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-external-aero-from-client" class="md-nav__link">
    Use External Aero from Client
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-and-best-practices" class="md-nav__link">
    Notes and Best Practices
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="execution-model">Execution Model<a class="headerlink" href="#execution-model" title="Permanent link">&para;</a></h1>
<h2 id="services-and-controllers">Services and Controllers<a class="headerlink" href="#services-and-controllers" title="Permanent link">&para;</a></h2>
<p>Services and Controllers act as singletons. In other words, only one instance exists per service or controller in a given environment.</p>
<ol>
<li>All modules are loaded using <code>require()</code> at the start of runtime.</li>
<li>All modules have properties and methods exposed via metamethods.</li>
<li>Each <code>Init</code> method on the modules are invoked one-by-one synchronously.</li>
<li>Each <code>Start</code> method on the modules are invoked asynchronously.</li>
<li>The module remains in memory for the remainder of runtime.</li>
</ol>
<hr />
<h2 id="modules-and-shared">Modules and Shared<a class="headerlink" href="#modules-and-shared" title="Permanent link">&para;</a></h2>
<ol>
<li>A module (in Modules or Shared) is loaded using <code>require()</code> the first time it is referenced (e.g. lazy-loaded).</li>
<li>The module has properties and methods exposed via metatable (using <code>WrapTable</code>)</li>
<li>The module's <code>Init</code> method is invoked synchronously.</li>
<li>The module's <code>Start</code> method is invoked immediately and asynchronously after the <code>Init</code> method is completed.</li>
</ol>
<hr />
<h2 id="forcing-init-order">Forcing <code>Init</code> Order<a class="headerlink" href="#forcing-init-order" title="Permanent link">&para;</a></h2>
<p>The order of which <code>Init</code> is invoked for services and controllers can be explicitly set. This is done through the <code>__aeroOrder</code> field.</p>
<p>Simply set the service or controller <code>__aeroOrder</code> field to a number. The <code>Init</code> process will execute based on ascending order. Services and controllers without an <code>__aeroOrder</code> field set will be executed last (technically, the default order is set to <code>math.huge</code>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>__aeroOrder</code> field can be any valid number, including negatives and non-whole numbers. See the examples under the <a href="../services/#forcing-init-order">Services</a> and <a href="../controllers/#forcing-init-order">Controllers</a> page.</p>
</div>
<hr />
<h2 id="preventing-init-or-start">Preventing <code>Init</code> or <code>Start</code><a class="headerlink" href="#preventing-init-or-start" title="Permanent link">&para;</a></h2>
<p>There might be times where it is not desired for the framework to invoke either the <code>Start</code> or the <code>Init</code> method on a module, service, or controller. In such an instance, a flag can be added to indicate that the method should not be invoked by the framework.</p>
<p>The two flags are:</p>
<ul>
<li><code>__aeroPreventInit</code></li>
<li><code>__aeroPreventStart</code></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Set the flag to a truthy value (preferrably just <code>true</code>). See the example under the <a href="../modules/#prevent-init-or-start">Modules</a> page.</p>
</div>
<hr />
<h2 id="external-use">External Use<a class="headerlink" href="#external-use" title="Permanent link">&para;</a></h2>
<p>It is possible (but not recommended) to use AGF outside of the framework environment. In other words, a script within the workspace can access modules within the framework. This is useful if an existing script or system cannot be included into the framework, but needs to access items within the framework. In order to do this the <code>_G.Aero</code> global is exposed on both the server and the client.</p>
<p>Accessing <code>_G.Aero</code> from the server will allow access to server-side services and modules, as well as shared modules.</p>
<p>Accessing <code>_G.Aero</code> from the client will allow access to client-side controllers and modules, as well as shared modules.</p>
<h3 id="wait-for-external-aero">Wait for External Aero<a class="headerlink" href="#wait-for-external-aero" title="Permanent link">&para;</a></h3>
<p>Because <code>_G.Aero</code> is not assigned until the framework has fully initialized, external scripts must first check and wait for the global to be assigned before attempting to use it:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kr">while</span> <span class="p">(</span><span class="ow">not</span> <span class="n">_G</span><span class="p">.</span><span class="n">Aero</span><span class="p">)</span> <span class="kr">do</span> <span class="n">wait</span><span class="p">()</span> <span class="kr">end</span>
<span class="kd">local</span> <span class="n">aero</span> <span class="o">=</span> <span class="n">_G</span><span class="p">.</span><span class="n">Aero</span>
</code></pre></div>
</td></tr></table>

<h3 id="use-external-aero-from-server">Use External Aero from Server<a class="headerlink" href="#use-external-aero-from-server" title="Permanent link">&para;</a></h3>
<p>Once <code>aero</code> is referenced, it can be used the same way you would use <code>self</code> within a controller or service. For example, using <code>_G.Aero</code> from the server:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kr">while</span> <span class="p">(</span><span class="ow">not</span> <span class="n">_G</span><span class="p">.</span><span class="n">Aero</span><span class="p">)</span> <span class="kr">do</span> <span class="n">wait</span><span class="p">()</span> <span class="kr">end</span>
<span class="kd">local</span> <span class="n">aero</span> <span class="o">=</span> <span class="n">_G</span><span class="p">.</span><span class="n">Aero</span>

<span class="n">aero</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">MyService</span><span class="p">:</span><span class="n">Hello</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">maid</span> <span class="o">=</span> <span class="n">aero</span><span class="p">.</span><span class="n">Shared</span><span class="p">.</span><span class="n">Maid</span><span class="p">.</span><span class="n">new</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>

<h3 id="use-external-aero-from-client">Use External Aero from Client<a class="headerlink" href="#use-external-aero-from-client" title="Permanent link">&para;</a></h3>
<p>Using <code>aero</code> from the client is the same as the server, except access will be granted to client-side modules:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="kr">while</span> <span class="p">(</span><span class="ow">not</span> <span class="n">_G</span><span class="p">.</span><span class="n">Aero</span><span class="p">)</span> <span class="kr">do</span> <span class="n">wait</span><span class="p">()</span> <span class="kr">end</span>
<span class="kd">local</span> <span class="n">aero</span> <span class="o">=</span> <span class="n">_G</span><span class="p">.</span><span class="n">Aero</span>

<span class="n">aero</span><span class="p">.</span><span class="n">Controllers</span><span class="p">.</span><span class="n">Fade</span><span class="p">:</span><span class="n">Out</span><span class="p">()</span>
<span class="kd">local</span> <span class="n">date</span> <span class="o">=</span> <span class="n">aero</span><span class="p">.</span><span class="n">Shared</span><span class="p">.</span><span class="n">Date</span><span class="p">.</span><span class="n">new</span><span class="p">()</span>
</code></pre></div>
</td></tr></table>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using AGF externally using <code>_G.Aero</code> is considered bad practice. The global is only provided so that edge-cases can be filled where it is not possible to include a script or system into the framework.</p>
</div>
<hr />
<h2 id="notes-and-best-practices">Notes and Best Practices<a class="headerlink" href="#notes-and-best-practices" title="Permanent link">&para;</a></h2>
<ul>
<li>The <code>Init</code> and <code>Start</code> methods are always optional, but it is good practice to always include them.</li>
<li>The <code>Init</code> method should be used to set up the individual module and register events.</li>
<li>The <code>Init</code> method should try to do as minimal work as possible, as other modules are blocked until it is completed.</li>
<li>The <code>Init</code> method should not be used to invoke methods from other modules in the framework (that should be done in or after <code>Start</code>)</li>
<li>Events must be registered in the <code>Init</code> method.</li>
<li>Events should never be connected or fired within the <code>Init</code> method. Do this within the <code>Start</code> method.</li>
<li>Because Modules and Shared modules are lazy-loaded, their <code>Init</code> methods are invoked the first time they are referenced.</li>
</ul>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../modules/" title="Modules" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Modules
              </span>
            </div>
          </a>
        
        
          <a href="../module_docs/server_services/store_service/" title="StoreService" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                StoreService
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/Sleitnick/AeroGameFramework" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:".."}})</script>
      
    
  </body>
</html>